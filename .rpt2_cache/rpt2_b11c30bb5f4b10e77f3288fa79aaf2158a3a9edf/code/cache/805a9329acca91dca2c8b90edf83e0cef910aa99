{
  "code": "import { GameScene } from \"../scene/GameScene\";\r\nimport { Events } from \"./Events\";\r\nexport class CardUI {\r\n    constructor(i) {\r\n        this.index = i;\r\n    }\r\n    init() {\r\n        CardUI.cardClicked = false;\r\n        CardUI.seletedIndex = -1;\r\n        this.updateUI();\r\n        this.button.on(Laya.Event.CLICK, this, this.onClick);\r\n    }\r\n    getcardinfo() {\r\n        let ret = \"\";\r\n        if (GameScene.ifChinses) {\r\n            ret = this.card.name_cn + \"\\n\\n\" + this.card.info_cn + \"\\n\\n\" + Events.genEffectInfo(GameScene.ifChinses, this.card.effect);\r\n            ret += \"\\n\\n\";\r\n            if (this.card.lim) {\r\n                ret += \"* 限时牌：回合结束时自动丢弃。\\n\";\r\n            }\r\n            if (this.card.se != null) {\r\n                ret += \"* 弃牌\" + Events.genEffectInfo(GameScene.ifChinses, this.card.se);\r\n                if (this.card.se != null && this.card.se.specialNote == 5) {\r\n                    ret += \"有20%的几率分手。\";\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            ret = this.card.name_en + \"\\n\\n\" + this.card.info_en + \"\\n\\n\" + Events.genEffectInfo(GameScene.ifChinses, this.card.effect);\r\n            ret += \"\\n\\n\";\r\n            if (this.card.lim) {\r\n                ret += \"* Limited card: this card will be automatically discarded at the end of the turn.\\n\";\r\n            }\r\n            if (this.card.se != null) {\r\n                ret += \"* When discarded, this card has such \" + +Events.genEffectInfo(GameScene.ifChinses, this.card.se);\r\n                if (this.card.se != null && this.card.se.specialNote == 5) {\r\n                    ret += \"有20%的几率分手。\";\r\n                }\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    updateUI() {\r\n        if (this.button == null) {\r\n            return;\r\n        }\r\n        if (CardUI.seletedIndex == this.index) {\r\n            this.button.y = 356;\r\n            this.button.zOrder = this.index + 100;\r\n        }\r\n        else {\r\n            this.button.y = 376;\r\n            this.button.zOrder = this.index;\r\n        }\r\n        if (this.card == null) {\r\n            this.button.visible = false;\r\n        }\r\n        else {\r\n            let name = \"\";\r\n            if (GameScene.ifChinses) {\r\n                name = this.card.name_cn;\r\n                name += \"\\n\\n需求：\\n\";\r\n                if (this.card.effect.cMoney < 0) {\r\n                    name += \"金钱:\" + Math.abs(this.card.effect.cMoney) + \"\\n\";\r\n                }\r\n                if (this.card.effect.cEnergy < 0) {\r\n                    name += \"精力:\" + Math.abs(this.card.effect.cEnergy) + \"\\n\";\r\n                }\r\n            }\r\n            else {\r\n                name = this.card.name_en;\r\n                name += \"\\n\\nNeeds:\\n\";\r\n                if (this.card.effect.cMoney < 0) {\r\n                    name += \"Money:\" + Math.abs(this.card.effect.cMoney) + \"\\n\";\r\n                }\r\n                if (this.card.effect.cEnergy < 0) {\r\n                    name += \"Energy:\" + Math.abs(this.card.effect.cEnergy) + \"\\n\";\r\n                }\r\n            }\r\n            name += \"\\n\";\r\n            if (this.card.lim) {\r\n                name += \"lim.\";\r\n            }\r\n            if (this.card.se != null) {\r\n                name += \"se.\";\r\n            }\r\n            this.button.label = name;\r\n            this.button.visible = true;\r\n        }\r\n    }\r\n    onClick() {\r\n        CardUI.cardClicked = true;\r\n        if ((CardUI.seletedIndex - this.index) == 0) {\r\n            CardUI.seletedIndex = -1;\r\n        }\r\n        else {\r\n            CardUI.seletedIndex = this.index;\r\n        }\r\n    }\r\n}\r\nCardUI.seletedIndex = -1;\r\nCardUI.cardClicked = false;\r\n",
  "references": [
    "C:/Users/huang/Documents/myLaya/ld46_KeepDoctorAlive/src/script/CardManager.ts",
    "C:/Users/huang/Documents/myLaya/ld46_KeepDoctorAlive/src/scene/GameScene.ts",
    "C:/Users/huang/Documents/myLaya/ld46_KeepDoctorAlive/src/script/Events.ts"
  ]
}
